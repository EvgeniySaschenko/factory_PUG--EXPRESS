"use strict";!function(){for(var t=function(t){t.el.textContent=t.msg,t.el.classList.remove("hidden"),t.el.classList.add("alert-"+t.alert,"visible"),"delete"!=t.data.type&&setTimeout(function(){t.el.classList.add("hidden"),t.el.classList.remove("alert-"+t.alert,"visible")},5e3)},e=document.getElementsByClassName("form"),a=function(a,n){e[a].addEventListener("submit",function(n){n.preventDefault();for(var c=e[a].querySelectorAll("[name]"),o=0,l=c.length;l>o;o++)c[o].value=c[o].value?c[o].value:0;var i=JSON.parse(this.getAttribute("data-api")),r=e[a].getElementsByClassName("form__alert"),s=new FormData(e[a]);try{axios({method:i.method,url:i.action,headers:{"Content-Type":"multipart/form-data"},data:s}).then(function(e){var a=e.data,n=a.alert,c=a.msg;a.type;t({el:r[0],alert:n,msg:c,data:e.data})}).catch(function(e){t({el:r[0],alert:"danger",msg:"Ошибка сервера",data:{type:"err"}})})}catch(e){t({el:r[0],alert:"danger",msg:"Ошибка при отправке формы",data:{type:"err"}})}})},n=0,c=e.length;c>n;n++)a(n)}(),function(){function t(t,e,a){t&&t.addEventListener("input",function(n){n.preventDefault();var c=JSON.parse(this.getAttribute("data-api")),o=new FormData(t),l=c.action;o.forEach(function(t,e){l=l.replace("".concat(e,"/@dummy"),"".concat(e,"/").concat(t||null))});try{axios({method:c.method,url:l,headers:{"Content-Type":"multipart/form-data"}}).then(function(t){var n=t.data;a(e,void 0!==n&&n)}).catch(function(t){console.log(t),console.log("Ошибка на стороне сервера")})}catch(t){console.log("Ошибка на стороне клиента")}})}t(document.getElementById("form_search-table-admin-material"),document.getElementById("table__body_admin-material"),function(t,e){var a=[];e.length?(a=e.map(function(t){return'<tr class="table__row '.concat(t.status?"highlight-warning":"",'">\n\t\t\t\t\t<td class="table__col table__col_info"> \n\t\t\t\t\t\t<i class="fa fa-info-circle" data-tooltip="').concat(t.remark,'"></i> \n\t\t\t\t\t</td>\n\t\t\t\t\t<td class="table__col table__col_name">').concat(t.name," ").concat(t.mark,'</td>\n\t\t\t\t\t<td class="table__col table__col_name">').concat(t.standart,'</td>\n\t\t\t\t\t<td class="table__col table__col_date-create">').concat(t.date_create,'</td>\n\t\t\t\t\t<td class="table__col table__col_btn">\n\t\t\t\t\t\t<a class="table__btn btn btn-success" href="').concat(location.pathname,"/edit/id/").concat(t.id,'">Редактировать</a>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>')}),t.innerHTML=a.join()):t.innerHTML=""});t(document.getElementById("form_search-table-tech-process-rout-map"),document.getElementById("table__body_tech-process-rout-map"),function(t,e){var a=[];e.length>0?(a=e.map(function(t){return'<tr class="table__row '.concat(t.status?"highlight-warning":"",'">\n\t\t\t\t\t\t\t<td class="table__col table__col_info">\n\t\t\t\t\t\t\t\t<i class="fa fa-info-circle" title="').concat(t.remark,'"></i>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t\t<td class="table__col table__col_name">').concat(t.name,'</td>\n\t\t\t\t\t\t\t<td class="table__col table__col_num-detail">').concat(t.num_detail,'</td>\n\t\t\t\t\t\t\t<td class="table__col table__col_date-create">').concat(t.date_create,'</td>\n\t\t\t\t\t\t\t<td class="table__col table__col_btn">\n\t\t\t\t\t\t\t\t<a class="table__btn btn btn-primary" href="/tech-process/more/id/').concat(t.id,'">Подробние</a>\n\t\t\t\t\t\t\t</td>\n\t\t\t\t\t\t</tr>')}),t.innerHTML=a.join()):t.innerHTML=""})}(),function(){var t=document.getElementById("form_tech-process-add-rout-map");if(t){var e=function(t,e){for(var a=t.value,n=0,c=e.length;c>n;n++)e[n].style.display=e[n].getAttribute("data-id-type")==a?"block":"none"},a=t.querySelector('[name="id_type"]'),n=t.querySelectorAll('[name="id_material"] .form__option');e(a,n),a.addEventListener("input",function(){e(a,n)})}}(),function(){for(var t=document.getElementsByClassName("form__group-checkbox-delete"),e=function(e,a){t[e].querySelector(".form__checkbox").addEventListener("change",function(){var a=t[e].querySelector(".form__hidden");a.value=0!=a.value?0:1})},a=0,n=t.length;n>a;a++)e(a)}(),function(){!function(){for(var t=document.getElementsByClassName("show-modal"),e=0,a=t.length;a>e;e++)t[e].addEventListener("click",function(){var t=this.getAttribute("data-id-modal");document.querySelector(".modal#"+t).classList.add("active")})}();!function(){for(var t=document.getElementsByClassName("modal-close"),e=0,a=t.length;a>e;e++)t[e].addEventListener("click",function(){document.querySelector(".modal.active").classList.remove("active")})}()}(),document.querySelector(".tab")&&function(){if(window.location.hash){var t=window.location.hash.replace("#id",""),e=document.querySelector(".tab__title"),a=document.querySelector(".tab__item[data-id=".concat(t,"]")),n=document.getElementById(t);a.classList.add("active"),n.classList.add("active"),e.textContent=a.textContent}else{var c=document.querySelector(".tab__item"),o=document.querySelector(".tab__content");c.classList.add("active"),o.classList.add("active")}for(var l=document.getElementsByClassName("tab__reload-page"),i=0,r=l.length;r>i;i++)l[i].addEventListener("click",function(){location.reload()});for(var s=document.getElementsByClassName("tab__item"),d=function(t,e){s[t].addEventListener("click",function(e){var a=this,n=s[t].parentNode.querySelector(".tab__item.active");n&&(document.getElementById(n.getAttribute("data-id")).classList.remove("active"),n.classList.remove("active")),e.path.some(function(t){if(t.classList.contains("tab")){var e=t.querySelector(".tab__title");return e&&(e.textContent=a.textContent),!0}}),this.classList.add("active"),window.location.hash="id"+this.getAttribute("data-id"),document.getElementById(this.getAttribute("data-id")).classList.add("active")})},m=0,u=s.length;u>m;m++)d(m)}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvcm0vZm9ybS5qcyIsImZvcm0vZm9ybV9zZWFyY2guanMiLCJmb3JtL2Zvcm1fdGVjaC1wcm9jZXNzLWFkZC1yb3V0LW1hcC5qcyIsImZvcm0vZm9ybV9fZ3JvdXAtY2hlY2tib3gtZGVsZXRlLmpzIiwibW9kYWwvbW9kYWwuanMiLCJ0YWIvdGFiLmpzIiwidGFibGUvdGFibGVfaXRlbXMtdG8tZWRpdC5qcyJdLCJuYW1lcyI6WyJmb3JtU3VibWlzc2lvbiIsIm9iaiIsImVsIiwidGV4dENvbnRlbnQiLCJtc2ciLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJhZGQiLCJhbGVydCIsImRhdGEiLCJ0eXBlIiwic2V0VGltZW91dCIsImZvcm0iLCJkb2N1bWVudCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJfbG9vcCIsImkiLCJsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImN1ckZvcm0iLCJxdWVyeVNlbGVjdG9yQWxsIiwiaiIsImwyIiwibGVuZ3RoIiwidmFsdWUiLCJhcGkiLCJKU09OIiwicGFyc2UiLCJ0aGlzIiwiZ2V0QXR0cmlidXRlIiwiZm9ybV9fYWxlcnQiLCJmb3JtRGF0YSIsIkZvcm1EYXRhIiwiYXhpb3MiLCJtZXRob2QiLCJ1cmwiLCJhY3Rpb24iLCJoZWFkZXJzIiwiQ29udGVudC1UeXBlIiwidGhlbiIsInJlcyIsIl9yZXMkZGF0YSIsImNhdGNoIiwiZXJyIiwiX3VudXNlZCIsImZvcm1TZWFyY2giLCJjYWxsYmFjayIsImZvckVhY2giLCJ2YWwiLCJrZXkiLCJyZXBsYWNlIiwiY29uY2F0IiwiY29uc29sZSIsImxvZyIsImdldEVsZW1lbnRCeUlkIiwidGVwbGF0ZSIsIm1hcCIsInN0YXR1cyIsInJlbWFyayIsIm5hbWUiLCJtYXJrIiwic3RhbmRhcnQiLCJkYXRlX2NyZWF0ZSIsImxvY2F0aW9uIiwicGF0aG5hbWUiLCJpZCIsImlubmVySFRNTCIsImpvaW4iLCJudW1fZGV0YWlsIiwiaGlkZU9wdGlvbiIsInR5cGVNYXRlcmlhbCIsIm1hcmtNYXRlcmlhbCIsImlkVHlwZSIsInN0eWxlIiwiZGlzcGxheSIsInF1ZXJ5U2VsZWN0b3IiLCJmb3JtX19ncm91cENoZWNrYm94RGVsZXRlIiwiaGlkZGVuIiwibW9kYWxTaG93IiwiaWRNb2RhbCIsIm1vZGFsQ2xvc2UiLCJ3aW5kb3ciLCJoYXNoIiwidGFiX190aXRsZSIsIl90YWJfX2l0ZW0iLCJ0YWJfX2NvbnRlbnQiLCJfdGFiX19pdGVtMiIsIl90YWJfX2NvbnRlbnQiLCJ0YWJfX3JlbG9hZFBhZ2UiLCJyZWxvYWQiLCJ0YWJfX2l0ZW0iLCJfaSIsIl9sIiwiZXYiLCJfdGhpcyIsImN1cmVudFRhYkFjdGl2ZSIsInBhcmVudE5vZGUiLCJwYXRoIiwic29tZSIsImNvbnRhaW5zIiwiX3RhYl9fdGl0bGUiXSwibWFwcGluZ3MiOiJBQUFBLGNBRUEsV0EyRUUsSUExRUEsSUFBSUEsRUFBaUIsU0FBd0JDLEdBRTNDQSxFQUFJQyxHQUFHQyxZQUFjRixFQUFJRyxJQUN6QkgsRUFBSUMsR0FBR0csVUFBVUMsT0FBTyxVQUN4QkwsRUFBSUMsR0FBR0csVUFBVUUsSUFBSSxTQUFXTixFQUFJTyxNQUFPLFdBRXRCLFVBQWpCUCxFQUFJUSxLQUFLQyxNQUNYQyxXQUFXLFdBQ1RWLEVBQUlDLEdBQUdHLFVBQVVFLElBQUksVUFDckJOLEVBQUlDLEdBQUdHLFVBQVVDLE9BQU8sU0FBV0wsRUFBSU8sTUFBTyxZQUM3QyxNQUlISSxFQUFPQyxTQUFTQyx1QkFBdUIsUUFFdkNDLEVBQVEsU0FBZUMsRUFBR0MsR0FDNUJMLEVBQUtJLEdBQUdFLGlCQUFpQixTQUFVLFNBQVVDLEdBQzNDQSxFQUFFQyxpQkFHRixJQUZBLElBQUlDLEVBQVVULEVBQUtJLEdBQUdNLGlCQUFpQixVQUU5QkMsRUFBSSxFQUFHQyxFQUFLSCxFQUFRSSxPQUFRRCxFQUFLRCxFQUFHQSxJQUMzQ0YsRUFBUUUsR0FBR0csTUFBUUwsRUFBUUUsR0FBR0csTUFBUUwsRUFBUUUsR0FBR0csTUFBUSxFQUcz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QWlCLFFBQVMsU0FBVTZFLEdBQ2hELElBQUlDLEVBQVFsRSxLQUdSbUUsRUFBa0JMLEVBQVVDLEdBQUlLLFdBQVdyQixjQUFjLHFCQUV6RG9CLElBQ3dCcEYsU0FBUzJDLGVBQWV5QyxFQUFnQmxFLGFBQWEsWUFDM0QxQixVQUFVQyxPQUFPLFVBQ3JDMkYsRUFBZ0I1RixVQUFVQyxPQUFPLFdBSW5DeUYsRUFBR0ksS0FBS0MsS0FBSyxTQUFVakYsR0FDckIsR0FBSUEsRUFBRWQsVUFBVWdHLFNBQVMsT0FBUSxDQUMvQixJQUFJQyxFQUFjbkYsRUFBRTBELGNBQWMsZUFNbEMsT0FKSXlCLElBQ0ZBLEVBQVluRyxZQUFjNkYsRUFBTTdGLGNBRzNCLEtBSVgyQixLQUFLekIsVUFBVUUsSUFBSSxVQUNuQjRFLE9BQU9sQixTQUFTbUIsS0FBTyxLQUFPdEQsS0FBS0MsYUFBYSxXQUNoRGxCLFNBQVMyQyxlQUFlMUIsS0FBS0MsYUFBYSxZQUFZMUIsVUFBVUUsSUFBSSxhQUkvRHNGLEVBQUssRUFBR0MsRUFBS0YsRUFBVW5FLE9BQVFxRSxFQUFLRCxFQUFJQSxJQUMvQzlFLEVBQU04RSxHQXRFViIsInNvdXJjZXNDb250ZW50IjpbIigoKT0+e1xyXG5cdGxldCBmb3JtU3VibWlzc2lvbj0gKG9iaik9PntcclxuXHRcdC8vIGFsZXJ0XHJcblx0XHRvYmouZWwudGV4dENvbnRlbnQ9IG9iai5tc2c7XHJcblx0XHRvYmouZWwuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcblx0XHRvYmouZWwuY2xhc3NMaXN0LmFkZCgnYWxlcnQtJyArIG9iai5hbGVydCwgJ3Zpc2libGUnKTtcclxuXHJcblx0XHRpZihvYmouZGF0YS50eXBlICE9ICdkZWxldGUnKXtcclxuXHRcdFx0c2V0VGltZW91dCgoKT0+e1xyXG5cdFx0XHRcdG9iai5lbC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcclxuXHRcdFx0XHRvYmouZWwuY2xhc3NMaXN0LnJlbW92ZSgnYWxlcnQtJyArIG9iai5hbGVydCwgJ3Zpc2libGUnKTtcclxuXHRcdFx0fSwgNTAwMCk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRsZXQgZm9ybT0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZm9ybScpO1xyXG5cclxuXHRmb3IobGV0IGk9IDAsIGw9IGZvcm0ubGVuZ3RoOyBsID4gaTsgaSsrKXtcclxuXHRcdGZvcm1baV0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgZnVuY3Rpb24oZSl7XHJcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0bGV0IGN1ckZvcm09IGZvcm1baV0ucXVlcnlTZWxlY3RvckFsbCgnW25hbWVdJyk7XHJcblx0XHRcdGZvcihsZXQgaj0gMCwgbDI9IGN1ckZvcm0ubGVuZ3RoOyBsMiA+IGo7IGorKyl7XHJcblx0XHRcdFx0Y3VyRm9ybVtqXS52YWx1ZT0gY3VyRm9ybVtqXS52YWx1ZSA/IGN1ckZvcm1bal0udmFsdWUgOiAwO1xyXG5cdFx0XHR9XHJcblx0XHRcdGxldCBhcGk9IEpTT04ucGFyc2UodGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtYXBpJykpO1xyXG5cdFx0XHRsZXQgZm9ybV9fYWxlcnQ9IGZvcm1baV0uZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZm9ybV9fYWxlcnQnKTtcclxuXHRcdFx0bGV0IGZvcm1EYXRhPSBuZXcgRm9ybURhdGEoZm9ybVtpXSk7XHJcblx0XHRcdHRyeXtcclxuXHRcdFx0XHRheGlvcyh7XHJcblx0XHRcdFx0XHRtZXRob2Q6IGFwaS5tZXRob2QsXHJcblx0XHRcdFx0XHR1cmw6IGFwaS5hY3Rpb24sXHJcblx0XHRcdFx0XHRoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScgfSxcclxuXHRcdFx0XHRcdGRhdGE6IGZvcm1EYXRhXHJcblx0XHRcdFx0fSkudGhlbigocmVzKT0+e1xyXG5cdFx0XHRcdFx0Ly8g0KPQtNCw0YfQvdCw0Y8g0L7RgtC/0YDQsNCy0LrQsCBcclxuXHRcdFx0XHRcdGxldCB7IGFsZXJ0LCBtc2csIHR5cGUgfT0gcmVzLmRhdGE7XHJcblx0XHRcdFx0XHRmb3JtU3VibWlzc2lvbih7XHJcblx0XHRcdFx0XHRcdGVsOiBmb3JtX19hbGVydFswXSwgXHJcblx0XHRcdFx0XHRcdGFsZXJ0OiBhbGVydCwgXHJcblx0XHRcdFx0XHRcdG1zZzogbXNnLFxyXG5cdFx0XHRcdFx0XHRkYXRhOiByZXMuZGF0YVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSkuY2F0Y2goKGVycik9PntcclxuXHRcdFx0XHRcdC8vINCh0LXRgNCy0LXRgCDQstC10YDQvdGD0Lsg0L7RiNC40LHQutGDXHJcblx0XHRcdFx0XHRmb3JtU3VibWlzc2lvbih7XHJcblx0XHRcdFx0XHRcdGVsOiBmb3JtX19hbGVydFswXSwgXHJcblx0XHRcdFx0XHRcdGFsZXJ0OiAnZGFuZ2VyJywgXHJcblx0XHRcdFx0XHRcdG1zZzogJ9Ce0YjQuNCx0LrQsCDRgdC10YDQstC10YDQsCcsXHJcblx0XHRcdFx0XHRcdGRhdGE6IHt0eXBlOiBcImVyclwifVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0fSBjYXRjaCB7XHJcblx0XHRcdFx0Ly8g0J7RiNC40LHQutCwINC90LAg0YHRgtC+0YDQvtC90LUg0LrQu9C40LXQvdGC0LBcclxuXHRcdFx0XHRmb3JtU3VibWlzc2lvbih7XHJcblx0XHRcdFx0XHRlbDogZm9ybV9fYWxlcnRbMF0sIFxyXG5cdFx0XHRcdFx0YWxlcnQ6ICdkYW5nZXInLCBcclxuXHRcdFx0XHRcdG1zZzogJ9Ce0YjQuNCx0LrQsCDQv9GA0Lgg0L7RgtC/0YDQsNCy0LrQtSDRhNC+0YDQvNGLJyxcclxuXHRcdFx0XHRcdGRhdGE6IHt0eXBlOiBcImVyclwifVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG59KSgpOyIsIigoKT0+e1xyXG5cdGZ1bmN0aW9uIGZvcm1TZWFyY2goZm9ybSwgZWwsIGNhbGxiYWNrKXtcclxuXHRcdGxldCBjYj0gY2FsbGJhY2sgPyBjYWxsYmFjayA6IGZ1bmN0aW9uKCl7fTtcclxuXHRcdFx0aWYoIWZvcm0pIHJldHVybjtcclxuXHRcdFx0Zm9ybS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uKGUpe1xyXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRsZXQgYXBpPSBKU09OLnBhcnNlKHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLWFwaScpKTtcclxuXHRcdFx0XHRsZXQgZm9ybURhdGE9IG5ldyBGb3JtRGF0YShmb3JtKTtcclxuXHRcdFx0XHRsZXQgdXJsPSBhcGkuYWN0aW9uO1xyXG5cdFx0XHRcdGZvcm1EYXRhLmZvckVhY2goKHZhbCwga2V5KT0+e1xyXG5cdFx0XHRcdFx0dXJsPSB1cmwucmVwbGFjZShgJHtrZXl9L0BkdW1teWAsIGAke2tleX0vJHt2YWwgPyB2YWwgOiBudWxsfWApO1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdFx0dHJ5e1xyXG5cdFx0XHRcdFx0YXhpb3Moe1xyXG5cdFx0XHRcdFx0XHRtZXRob2Q6IGFwaS5tZXRob2QsXHJcblx0XHRcdFx0XHRcdHVybDogdXJsLFxyXG5cdFx0XHRcdFx0XHRoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScgfVxyXG5cdFx0XHRcdFx0fSkudGhlbigocmVzKT0+e1xyXG5cdFx0XHRcdFx0XHQvLyDQo9C00LDRh9C90LDRjyDQvtGC0L/RgNCw0LLQutCwIFxyXG5cdFx0XHRcdFx0XHRcdGxldCB7IGRhdGE9IGZhbHNlfT0gcmVzO1xyXG5cdFx0XHRcdFx0XHRcdGNhbGxiYWNrKGVsLCBkYXRhKTtcclxuXHRcdFx0XHRcdH0pLmNhdGNoKChlcnIpPT57XHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKCBlcnIgKVxyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZygn0J7RiNC40LHQutCwINC90LAg0YHRgtC+0YDQvtC90LUg0YHQtdGA0LLQtdGA0LAnKVxyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHR9IGNhdGNoIHtcclxuXHRcdFx0XHRcdC8vINCe0YjQuNCx0LrQsCDQvdCwINGB0YLQvtGA0L7QvdC1INC60LvQuNC10L3RgtCwXHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZygn0J7RiNC40LHQutCwINC90LAg0YHRgtC+0YDQvtC90LUg0LrQu9C40LXQvdGC0LAnKVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiDQn9C+0LjRgdC6INC80LDRgtC10YDQuNCw0LvQvtCyXHJcblx0ICovXHJcblx0bGV0IGZvcm09IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JtX3NlYXJjaC10YWJsZS1hZG1pbi1tYXRlcmlhbCcpO1xyXG5cdGxldCBlbD0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RhYmxlX19ib2R5X2FkbWluLW1hdGVyaWFsJyk7XHJcblx0bGV0IGNhbGxiYWNrPSAoZWwsIGRhdGEpPT57XHJcblx0XHRsZXQgdGVwbGF0ZT0gW107XHJcblx0XHRpZihkYXRhLmxlbmd0aCl7XHJcblx0XHRcdHRlcGxhdGU9IGRhdGEubWFwKChlKT0+e1xyXG5cdFx0XHRcdHJldHVybihcclxuXHRcdFx0XHRgPHRyIGNsYXNzPVwidGFibGVfX3JvdyAke2Uuc3RhdHVzID8gJ2hpZ2hsaWdodC13YXJuaW5nJyA6ICcnfVwiPlxyXG5cdFx0XHRcdFx0PHRkIGNsYXNzPVwidGFibGVfX2NvbCB0YWJsZV9fY29sX2luZm9cIj4gXHJcblx0XHRcdFx0XHRcdDxpIGNsYXNzPVwiZmEgZmEtaW5mby1jaXJjbGVcIiBkYXRhLXRvb2x0aXA9XCIke2UucmVtYXJrfVwiPjwvaT4gXHJcblx0XHRcdFx0XHQ8L3RkPlxyXG5cdFx0XHRcdFx0PHRkIGNsYXNzPVwidGFibGVfX2NvbCB0YWJsZV9fY29sX25hbWVcIj4ke2UubmFtZX0gJHtlLm1hcmt9PC90ZD5cclxuXHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRhYmxlX19jb2wgdGFibGVfX2NvbF9uYW1lXCI+JHtlLnN0YW5kYXJ0fTwvdGQ+XHJcblx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0YWJsZV9fY29sIHRhYmxlX19jb2xfZGF0ZS1jcmVhdGVcIj4ke2UuZGF0ZV9jcmVhdGV9PC90ZD5cclxuXHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRhYmxlX19jb2wgdGFibGVfX2NvbF9idG5cIj5cclxuXHRcdFx0XHRcdFx0PGEgY2xhc3M9XCJ0YWJsZV9fYnRuIGJ0biBidG4tc3VjY2Vzc1wiIGhyZWY9XCIke2xvY2F0aW9uLnBhdGhuYW1lfS9lZGl0L2lkLyR7ZS5pZH1cIj7QoNC10LTQsNC60YLQuNGA0L7QstCw0YLRjDwvYT5cclxuXHRcdFx0XHRcdDwvdGQ+XHJcblx0XHRcdFx0PC90cj5gKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdGVsLmlubmVySFRNTD0gdGVwbGF0ZS5qb2luKCk7XHJcblx0XHR9IGVsc2UgIHtcclxuXHRcdFx0ZWwuaW5uZXJIVE1MPSAnJztcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGZvcm1TZWFyY2goZm9ybSwgZWwsIGNhbGxiYWNrKTtcclxuXHJcblx0LyoqXHJcblx0ICog0J/QvtC40YHQuiDRgtGF0LrQsNGA0YJcclxuXHQgKi9cclxuXHJcblx0bGV0IGZvcm0yPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybV9zZWFyY2gtdGFibGUtdGVjaC1wcm9jZXNzLXJvdXQtbWFwJyk7XHJcblx0bGV0IGVsMj0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RhYmxlX19ib2R5X3RlY2gtcHJvY2Vzcy1yb3V0LW1hcCcpO1xyXG5cdGxldCBjYWxsYmFjazI9IChlbCwgZGF0YSk9PntcclxuXHRcdGxldCB0ZXBsYXRlPSBbXTtcclxuXHRcdGlmKGRhdGEubGVuZ3RoID4gMCl7XHJcblx0XHRcdHRlcGxhdGU9IGRhdGEubWFwKChlKT0+e1xyXG5cdFx0XHRcdHJldHVybihcclxuXHRcdFx0XHRcdFx0YDx0ciBjbGFzcz1cInRhYmxlX19yb3cgJHtlLnN0YXR1cyA/ICdoaWdobGlnaHQtd2FybmluZycgOiAnJ31cIj5cclxuXHRcdFx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0YWJsZV9fY29sIHRhYmxlX19jb2xfaW5mb1wiPlxyXG5cdFx0XHRcdFx0XHRcdFx0PGkgY2xhc3M9XCJmYSBmYS1pbmZvLWNpcmNsZVwiIHRpdGxlPVwiJHtlLnJlbWFya31cIj48L2k+XHJcblx0XHRcdFx0XHRcdFx0PC90ZD5cclxuXHRcdFx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0YWJsZV9fY29sIHRhYmxlX19jb2xfbmFtZVwiPiR7ZS5uYW1lfTwvdGQ+XHJcblx0XHRcdFx0XHRcdFx0PHRkIGNsYXNzPVwidGFibGVfX2NvbCB0YWJsZV9fY29sX251bS1kZXRhaWxcIj4ke2UubnVtX2RldGFpbH08L3RkPlxyXG5cdFx0XHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRhYmxlX19jb2wgdGFibGVfX2NvbF9kYXRlLWNyZWF0ZVwiPiR7ZS5kYXRlX2NyZWF0ZX08L3RkPlxyXG5cdFx0XHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRhYmxlX19jb2wgdGFibGVfX2NvbF9idG5cIj5cclxuXHRcdFx0XHRcdFx0XHRcdDxhIGNsYXNzPVwidGFibGVfX2J0biBidG4gYnRuLXByaW1hcnlcIiBocmVmPVwiL3RlY2gtcHJvY2Vzcy9tb3JlL2lkLyR7ZS5pZH1cIj7Qn9C+0LTRgNC+0LHQvdC40LU8L2E+XHJcblx0XHRcdFx0XHRcdFx0PC90ZD5cclxuXHRcdFx0XHRcdFx0PC90cj5gKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdGVsLmlubmVySFRNTD0gdGVwbGF0ZS5qb2luKCk7XHJcblx0XHR9IGVsc2UgIHtcclxuXHRcdFx0ZWwuaW5uZXJIVE1MPSAnJztcclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGZvcm1TZWFyY2goZm9ybTIsIGVsMiwgY2FsbGJhY2syKTtcclxufSkoKTsiLCIoKCk9PntcclxuXHRsZXQgZm9ybT0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm1fdGVjaC1wcm9jZXNzLWFkZC1yb3V0LW1hcCcpO1xyXG5cdGlmKGZvcm0pe1xyXG5cdFx0bGV0IHR5cGVNYXRlcmlhbD0gZm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cImlkX3R5cGVcIl0nKTtcclxuXHRcdGxldCBtYXJrTWF0ZXJpYWw9IGZvcm0ucXVlcnlTZWxlY3RvckFsbCgnW25hbWU9XCJpZF9tYXRlcmlhbFwiXSAuZm9ybV9fb3B0aW9uJyk7XHJcblx0XHRmdW5jdGlvbiBoaWRlT3B0aW9uKHR5cGVNYXRlcmlhbCwgbWFya01hdGVyaWFsKXtcclxuXHRcdFx0bGV0IGlkVHlwZT0gdHlwZU1hdGVyaWFsLnZhbHVlO1xyXG5cdFx0XHRmb3IobGV0IGk9IDAsIGw9IG1hcmtNYXRlcmlhbC5sZW5ndGg7IGwgPiBpOyBpKyspe1xyXG5cdFx0XHRcdG1hcmtNYXRlcmlhbFtpXS5zdHlsZS5kaXNwbGF5PSBtYXJrTWF0ZXJpYWxbaV0uZ2V0QXR0cmlidXRlKCdkYXRhLWlkLXR5cGUnKSA9PSBpZFR5cGUgPyAnYmxvY2snIDogJ25vbmUnO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRoaWRlT3B0aW9uKHR5cGVNYXRlcmlhbCwgbWFya01hdGVyaWFsKTtcclxuXHRcdHR5cGVNYXRlcmlhbC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpPT57XHJcblx0XHRcdGhpZGVPcHRpb24odHlwZU1hdGVyaWFsLCBtYXJrTWF0ZXJpYWwpO1xyXG5cdFx0fSk7XHJcblx0fVxyXG59KSgpOyIsIihmdW5jdGlvbigpe1xyXG5cdGxldCBmb3JtX19ncm91cENoZWNrYm94RGVsZXRlPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdmb3JtX19ncm91cC1jaGVja2JveC1kZWxldGUnKTtcclxuXHRmb3IobGV0IGk9IDAsIGw9IGZvcm1fX2dyb3VwQ2hlY2tib3hEZWxldGUubGVuZ3RoOyBsID4gaTsgaSsrKXtcclxuXHRcdGZvcm1fX2dyb3VwQ2hlY2tib3hEZWxldGVbaV0ucXVlcnlTZWxlY3RvcignLmZvcm1fX2NoZWNrYm94JykuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCk9PntcclxuXHRcdFx0bGV0IGhpZGRlbj0gZm9ybV9fZ3JvdXBDaGVja2JveERlbGV0ZVtpXS5xdWVyeVNlbGVjdG9yKCcuZm9ybV9faGlkZGVuJyk7XHJcblx0XHRcdGhpZGRlbi52YWx1ZT0gaGlkZGVuLnZhbHVlICE9IDAgPyAwIDogMTtcclxuXHRcdH0pXHJcblx0fVxyXG59KSgpOyIsIihmdW5jdGlvbigpe1xyXG5cdC8qKlxyXG5cdCAqINCf0L7QutCw0LfQsNGC0Ywg0LzQvtC00LDQu9GM0L3QvtC1INC+0LrQvdC+XHJcblx0XHQg0K3Qu9C10LzQvdGCINC60L7RgtC+0YDRi9C5INCy0YvQt9GL0LLQsNC10YIg0LzQvtC00LDQu9GM0L3QvtC1INC+0LrQvdC+INC00L7Qu9C20LXQvSDQuNC80LXRgtGMINC60LvQsNGB0YEgXCJzaG93LW1vZGFsXCIg0Lgg0LDRgtGA0LjQsdGD0YIgXCJkYXRhLWlkLW1vZGFsXCJcclxuXHRcdCDQt9C90LDRh9C10L3QuNC1INCw0YLRgNC40LHRg9GC0LAg0Y3RgtC+IGlkINC80L7QtNCw0LvRjNC90L7Qs9C+INC+0LrQvdCwXHJcblx0ICovXHJcblx0Y29uc3QgbW9kYWxTaG93PSBmdW5jdGlvbigpe1xyXG5cdFx0Y29uc3QgbW9kYWxTaG93PSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzaG93LW1vZGFsJyk7XHJcblx0XHRmb3IobGV0IGk9IDAsIGw9IG1vZGFsU2hvdy5sZW5ndGg7IGwgPiBpOyBpKyspe1xyXG5cdFx0XHRtb2RhbFNob3dbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xyXG5cdFx0XHRcdGNvbnN0IGlkTW9kYWw9IHRoaXMuZ2V0QXR0cmlidXRlKCdkYXRhLWlkLW1vZGFsJyk7XHJcblx0XHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsIycgKyBpZE1vZGFsKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fVxyXG5cdG1vZGFsU2hvdygpO1xyXG5cdC8qKlxyXG5cdCAqINCX0LDQutGA0YvRgtGMINC80L7QtNCw0LvRjNC90L7QtSDQvtC60L3QvlxyXG5cdCAqL1xyXG5cdGNvbnN0IG1vZGFsQ2xvc2U9IGZ1bmN0aW9uKCl7XHJcblx0XHRjb25zdCBtb2RhbENsb3NlPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdtb2RhbC1jbG9zZScpO1xyXG5cdFx0Zm9yKGxldCBpPSAwLCBsPSBtb2RhbENsb3NlLmxlbmd0aDsgbCA+IGk7IGkrKyl7XHJcblx0XHRcdG1vZGFsQ2xvc2VbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xyXG5cdFx0XHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tb2RhbC5hY3RpdmUnKS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHRtb2RhbENsb3NlKCk7XHJcbn0pKCk7IiwiKGZ1bmN0aW9uKCl7XHJcblx0aWYoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnRhYicpKXtcclxuXHRcdC8vINCf0YDQuCDQv9C10YDQstC+0Lkg0LfQsNCz0YDRg9C30LrQtSDRgdGC0YDQsNC90LjRhtGLINCw0LrRgtC40LLQuNGA0L7QstCw0YLRjCDQvdGD0LbQvdGL0LkgVGFiXHJcblx0XHRpZiggd2luZG93LmxvY2F0aW9uLmhhc2ggKXtcclxuXHRcdFx0bGV0IGhhc2g9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnJlcGxhY2UoJyNpZCcsICcnKTtcclxuXHRcdFx0bGV0IHRhYl9fdGl0bGU9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC50YWJfX3RpdGxlYCk7XHJcblx0XHRcdGxldCB0YWJfX2l0ZW09IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC50YWJfX2l0ZW1bZGF0YS1pZD0ke2hhc2h9XWApO1xyXG5cdFx0XHRsZXQgdGFiX19jb250ZW50PSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChoYXNoKTtcclxuXHRcdFx0dGFiX19pdGVtLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG5cdFx0XHR0YWJfX2NvbnRlbnQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcblx0XHRcdHRhYl9fdGl0bGUudGV4dENvbnRlbnQ9IHRhYl9faXRlbS50ZXh0Q29udGVudDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGxldCB0YWJfX2l0ZW09IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC50YWJfX2l0ZW1gKTtcclxuXHRcdFx0bGV0IHRhYl9fY29udGVudD0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLnRhYl9fY29udGVudGApO1xyXG5cdFx0XHR0YWJfX2l0ZW0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XHJcblx0XHRcdHRhYl9fY29udGVudC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyDQmtC90L7Qv9C60LAg0L7QsdC90L7QstC40YLRjCDRgdGC0YDQsNC90LjRhtGDXHJcblx0XHRsZXQgdGFiX19yZWxvYWRQYWdlPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd0YWJfX3JlbG9hZC1wYWdlJyk7XHJcblx0XHRmb3IobGV0IGk9IDAsIGw9IHRhYl9fcmVsb2FkUGFnZS5sZW5ndGg7IGwgPiBpOyBpKyspe1xyXG5cdFx0XHR0YWJfX3JlbG9hZFBhZ2VbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpe1xyXG5cdFx0XHRcdGxvY2F0aW9uLnJlbG9hZCgpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyDQkNC60YLQuNCy0L3Ri9C5IFRBQlxyXG5cdFx0bGV0IHRhYl9faXRlbT0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgndGFiX19pdGVtJyk7XHJcblx0XHRmb3IobGV0IGk9IDAsIGw9IHRhYl9faXRlbS5sZW5ndGg7IGwgPiBpOyBpKyspe1xyXG5cdFx0XHQvLyBjbGlja1xyXG5cdFx0XHR0YWJfX2l0ZW1baV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihldil7XHJcblxyXG5cdFx0XHRcdC8vINGD0LTQsNC70LjRgtGMIC5hY3RpdmUg0YMgLnRhYl9faXRlbSDQuCAudGFiX19jb250ZW50INC60L7RgtC+0YDRi9C5INGB0LXQudGH0LDRgSDQsNC60YLQuNCy0LXQvVxyXG5cdFx0XHRcdGxldCBjdXJlbnRUYWJBY3RpdmU9IHRhYl9faXRlbVtpXS5wYXJlbnROb2RlLnF1ZXJ5U2VsZWN0b3IoJy50YWJfX2l0ZW0uYWN0aXZlJyk7XHJcblx0XHRcdFx0aWYoIGN1cmVudFRhYkFjdGl2ZSApe1xyXG5cdFx0XHRcdFx0bGV0IGN1cmVudENvbnRlbnRBY3RpdmU9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCBjdXJlbnRUYWJBY3RpdmUuZ2V0QXR0cmlidXRlKCdkYXRhLWlkJykgKTtcclxuXHRcdFx0XHRcdGN1cmVudENvbnRlbnRBY3RpdmUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcblx0XHRcdFx0XHRjdXJlbnRUYWJBY3RpdmUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHQvLyDQlNC+0LHQsNCy0YLRjCDQt9Cw0LPQvtC70L7QstC+0LogXHJcblx0XHRcdFx0ZXYucGF0aC5zb21lKChlKT0+e1xyXG5cdFx0XHRcdFx0aWYoZS5jbGFzc0xpc3QuY29udGFpbnMoJ3RhYicpKXtcclxuXHRcdFx0XHRcdFx0bGV0IHRhYl9fdGl0bGU9IGUucXVlcnlTZWxlY3RvcignLnRhYl9fdGl0bGUnKTtcclxuXHRcdFx0XHRcdFx0aWYodGFiX190aXRsZSl7XHJcblx0XHRcdFx0XHRcdFx0dGFiX190aXRsZS50ZXh0Q29udGVudD0gdGhpcy50ZXh0Q29udGVudDtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KVxyXG5cclxuXHRcdFx0XHQvLyDQlNC+0LHQsNCy0LjRgtGMINGC0LXQutGD0YnQuNC8IC50YWJfX2l0ZW0g0LggLnRhYl9fY29udGVudCDQutC70LDRgdGBIC5hY3RpdmVcclxuXHRcdFx0XHR0aGlzLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG5cdFx0XHRcdHdpbmRvdy5sb2NhdGlvbi5oYXNoPSAnaWQnICsgdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKTtcclxuXHRcdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZCggdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKSApLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9XHJcbn0pKCk7IiwiLy8gKGZ1bmN0aW9uKCl7XHJcbi8vIFx0Y29uc3QgYnRuX3Nob3dNb2RhbD0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhYmxlX2l0ZW1zLXRvLWVkaXQgLnRhYmxlX19idG5fc2hvdy1tb2RhbCcpO1xyXG4vLyBcdGZvcihsZXQgaT0gMCwgbD0gYnRuX3Nob3dNb2RhbC5sZW5ndGg7IGwgPiBpOyBpKyspe1xyXG4vLyBcdFx0YnRuX3Nob3dNb2RhbFtpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2X2J0blNob3dNb2RhbCl7XHJcbi8vIFx0XHRcdC8qKlxyXG4vLyBcdFx0XHQgKiDQlNC+0LHQsNCy0LvQtdC90LjQtSDQtNCw0L3QvdGL0YUg0LIg0YTQvtGA0LzRgyDRgNC10LTQsNC60YLQuNGA0L7QstCw0L3QuNGPIFwibW9kYWxfZm9ybS1lZGl0LW5hbWVcIlxyXG4vLyBcdFx0XHQgKi9cclxuLy8gXHRcdFx0Y29uc3QgY29udGVudD0gSlNPTi5wYXJzZShidG5fc2hvd01vZGFsW2ldLmdldEF0dHJpYnV0ZSgnZGF0YS1jb250ZW50JykpO1xyXG4vLyBcdFx0XHRjb25zdCBhcGk9IGJ0bl9zaG93TW9kYWxbaV0uZ2V0QXR0cmlidXRlKCdkYXRhLWFwaScpO1xyXG4vLyBcdFx0XHRjb25zdCBpZE1vZGFsPSBidG5fc2hvd01vZGFsW2ldLmdldEF0dHJpYnV0ZSgnZGF0YS1pZC1tb2RhbCcpO1xyXG4vLyBcdFx0XHRsZXQgZm9ybT0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWRNb2RhbCkucXVlcnlTZWxlY3RvcignLmZvcm0nKTtcclxuLy8gXHRcdFx0Zm9ybS5zZXRBdHRyaWJ1dGUoJ2RhdGEtYXBpJywgYXBpKTtcclxuLy8gXHRcdFx0Zm9ybS5xdWVyeVNlbGVjdG9yKCdbbmFtZT1cIm5hbWVcIl0nKS52YWx1ZT0gY29udGVudC5uYW1lO1xyXG4vLyBcdFx0XHRmb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwicmVtYXJrXCJdJykudmFsdWU9IGNvbnRlbnQucmVtYXJrO1xyXG4vLyBcdFx0XHQvKipcclxuLy8gXHRcdFx0ICog0J/QvtGB0LvQtSDQvtGC0L/RgNCw0LLQutC4INC00LDQvdC90YvRhSDQvdCwINGB0LXRgNCy0LXRgCwg0LLQvdC10YHRgtC4INC40LfQvNC10L3QtdC90LjRjyDQsiDRgtCw0LHQu9C40YbRg1xyXG4vLyBcdFx0XHQgKi9cclxuLy8gXHRcdFx0ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRk9STV9TVUJNSVNTSU9OJywgZnVuY3Rpb24oZXYpe1xyXG4vLyBcdFx0XHRcdGV2X2J0blNob3dNb2RhbC5wYXRoLnNvbWUoKGVsKT0+e1xyXG4vLyBcdFx0XHRcdFx0aWYoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCd0YWJsZV9fcm93Jykpe1xyXG4vLyBcdFx0XHRcdFx0XHRpZihldi5kZXRhaWwudHlwZSA9PSAnZGVsZXRlJyl7XHJcbi8vIFx0XHRcdFx0XHRcdFx0ZWwucmVtb3ZlKCk7XHJcbi8vIFx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XHJcbi8vIFx0XHRcdFx0XHRcdH1cdFxyXG4vLyBcdFx0XHRcdFx0fVxyXG4vLyBcdFx0XHRcdH0pXHJcbi8vIFx0XHRcdH0pXHJcbi8vIFx0XHR9KTtcclxuLy8gXHR9XHJcbi8vIH0pKCk7Il0sImZpbGUiOiJhcHAuanMifQ==
