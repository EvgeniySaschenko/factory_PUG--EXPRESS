"use strict";!function(){for(var t=function(t){t.el.textContent=t.msg,t.el.classList.remove("hidden"),t.el.classList.add("alert-"+t.alert,"visible"),"delete"!=t.data.type&&setTimeout(function(){t.el.classList.add("hidden"),t.el.classList.remove("alert-"+t.alert,"visible")},5e3)},e=document.getElementsByClassName("form"),a=function(a,n){e[a].addEventListener("submit",function(n){n.preventDefault();var c=JSON.parse(this.getAttribute("data-api")),o=e[a].getElementsByClassName("form__alert"),i=new FormData(e[a]);try{axios({method:c.method,url:c.action,headers:{"Content-Type":"multipart/form-data"},data:i}).then(function(e){var a=e.data,n=a.alert,c=a.msg;a.type;t({el:o[0],alert:n,msg:c,data:e.data})}).catch(function(e){t({el:o[0],alert:"danger",msg:"Ошибка сервера",data:{type:"err"}})})}catch(e){t({el:o[0],alert:"danger",msg:"Ошибка при отправке формы",data:{type:"err"}})}})},n=0,c=e.length;c>n;n++)a(n)}(),function(){!function(t,e,a){t&&t.addEventListener("input",function(n){n.preventDefault();var c=JSON.parse(this.getAttribute("data-api")),o=new FormData(t),i=c.action;o.forEach(function(t,e){i=i.replace("".concat(e,"/@dummy"),"".concat(e,"/").concat(t||null))});try{axios({method:c.method,url:i,headers:{"Content-Type":"multipart/form-data"}}).then(function(t){var n=t.data;a(e,void 0!==n&&n)}).catch(function(t){console.log("Ошибка на стороне сервера")})}catch(t){console.log("Ошибка на стороне клиента")}})}(document.getElementById("form_search-table-admin-material"),document.getElementById("table__body_admin-material"),function(t,e){var a=[];e?(console.log(e),a=e.map(function(t){return'<tr class="table__row '.concat(t.status?"highlight-warning":"",'">\n\t\t\t\t\t<td class="table__col table__col_info"> \n\t\t\t\t\t\t<i class="fa fa-info-circle" data-tooltip="').concat(t.remark,'"></i> \n\t\t\t\t\t</td>\n\t\t\t\t\t<td class="table__col table__col_name">').concat(t.name," ").concat(t.mark,'</td>\n\t\t\t\t\t<td class="table__col table__col_name">').concat(t.standart,'</td>\n\t\t\t\t\t<td class="table__col table__col_date-create">').concat(t.date_create,'</td>\n\t\t\t\t\t<td class="table__col table__col_btn">\n\t\t\t\t\t\t<a class="table__btn btn btn-success" href="').concat(location.pathname,"/edit/id/").concat(t.id,'">Редактировать</a>\n\t\t\t\t\t</td>\n\t\t\t\t</tr>')}),t.innerHTML=a.join()):t.innerHTML=""})}(),function(){!function(){for(var t=document.getElementsByClassName("show-modal"),e=0,a=t.length;a>e;e++)t[e].addEventListener("click",function(){var t=this.getAttribute("data-id-modal");document.querySelector(".modal#"+t).classList.add("active")})}();!function(){for(var t=document.getElementsByClassName("modal-close"),e=0,a=t.length;a>e;e++)t[e].addEventListener("click",function(){document.querySelector(".modal.active").classList.remove("active")})}()}(),document.querySelector(".tab")&&function(){if(window.location.hash){var t=window.location.hash.replace("#id",""),e=document.querySelector(".tab__title"),a=document.querySelector(".tab__item[data-id=".concat(t,"]")),n=document.getElementById(t);a.classList.add("active"),n.classList.add("active"),e.textContent=a.textContent}else{var c=document.querySelector(".tab__item"),o=document.querySelector(".tab__content");c.classList.add("active"),o.classList.add("active")}for(var i=document.getElementsByClassName("tab__item"),l=function(t,e){i[t].addEventListener("click",function(e){var a=this,n=i[t].parentNode.querySelector(".tab__item.active");n&&(document.getElementById(n.getAttribute("data-id")).classList.remove("active"),n.classList.remove("active")),e.path.some(function(t){if(t.classList.contains("tab")){var e=t.querySelector(".tab__title");return e&&(e.textContent=a.textContent),!0}}),this.classList.add("active"),window.location.hash="id"+this.getAttribute("data-id"),document.getElementById(this.getAttribute("data-id")).classList.add("active")})},s=0,d=i.length;d>s;s++)l(s)}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImZvcm0vZm9ybS5qcyIsImZvcm0vZm9ybV9zZWFyY2guanMiLCJnbG9iYWwvdG9sdGlwLmpzIiwibW9kYWwvbW9kYWwuanMiLCJ0YWIvdGFiLmpzIiwidGFibGUvdGFibGVfaXRlbXMtdG8tZWRpdC5qcyJdLCJuYW1lcyI6WyJmb3JtU3VibWlzc2lvbiIsIm9iaiIsImVsIiwidGV4dENvbnRlbnQiLCJtc2ciLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJhZGQiLCJhbGVydCIsImRhdGEiLCJ0eXBlIiwic2V0VGltZW91dCIsImZvcm0iLCJkb2N1bWVudCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJfbG9vcCIsImkiLCJsIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImFwaSIsIkpTT04iLCJwYXJzZSIsInRoaXMiLCJnZXRBdHRyaWJ1dGUiLCJmb3JtX19hbGVydCIsImZvcm1EYXRhIiwiRm9ybURhdGEiLCJheGlvcyIsIm1ldGhvZCIsInVybCIsImFjdGlvbiIsImhlYWRlcnMiLCJDb250ZW50LVR5cGUiLCJ0aGVuIiwicmVzIiwiX3JlcyRkYXRhIiwiY2F0Y2giLCJlcnIiLCJfdW51c2VkIiwibGVuZ3RoIiwiY2FsbGJhY2siLCJmb3JFYWNoIiwidmFsIiwia2V5IiwicmVwbGFjZSIsImNvbmNhdCIsImNvbnNvbGUiLCJsb2ciLCJmb3JtU2VhcmNoIiwiZ2V0RWxlbWVudEJ5SWQiLCJ0ZXBsYXRlIiwibWFwIiwic3RhdHVzIiwicmVtYXJrIiwibmFtZSIsIm1hcmsiLCJzdGFuZGFydCIsImRhdGVfY3JlYXRlIiwibG9jYXRpb24iLCJwYXRobmFtZSIsImlkIiwiaW5uZXJIVE1MIiwiam9pbiIsIm1vZGFsU2hvdyIsImlkTW9kYWwiLCJxdWVyeVNlbGVjdG9yIiwibW9kYWxDbG9zZSIsIndpbmRvdyIsImhhc2giLCJ0YWJfX3RpdGxlIiwiX3RhYl9faXRlbSIsInRhYl9fY29udGVudCIsIl90YWJfX2l0ZW0yIiwiX3RhYl9fY29udGVudCIsInRhYl9faXRlbSIsImV2IiwiX3RoaXMiLCJjdXJlbnRUYWJBY3RpdmUiLCJwYXJlbnROb2RlIiwicGF0aCIsInNvbWUiLCJjb250YWlucyIsIl90YWJfX3RpdGxlIl0sIm1hcHBpbmdzIjoiQUFBQSxjQUVBLFdBcUVFLElBcEVBLElBQUlBLEVBQWlCLFNBQXdCQyxHQUUzQ0EsRUFBSUMsR0FBR0MsWUFBY0YsRUFBSUcsSUFDekJILEVBQUlDLEdBQUdHLFVBQVVDLE9BQU8sVUFDeEJMLEVBQUlDLEdBQUdHLFVBQVVFLElBQUksU0FBV04sRUFBSU8sTUFBTyxXQUV0QixVQUFqQlAsRUFBSVEsS0FBS0MsTUFDWEMsV0FBVyxXQUNUVixFQUFJQyxHQUFHRyxVQUFVRSxJQUFJLFVBQ3JCTixFQUFJQyxHQUFHRyxVQUFVQyxPQUFPLFNBQVdMLEVBQUlPLE1BQU8sWUFDN0MsTUFJSEksRUFBT0MsU0FBU0MsdUJBQXVCLFFBRXZDQyxFQUFRLFNBQWVDLEVBQUdDLEdBQzVCTCxFQUFLSSxHQUFHRSxpQkFBaUIsU0FBVSxTQUFVQyxHQUMzQ0EsRUFBRUMsaUJBQ0YsSUFBSUMsRUFBTUMsS0FBS0MsTUFBTUMsS0FBS0MsYUFBYSxhQUNuQ0MsRUFBY2QsRUFBS0ksR0FBR0YsdUJBQXVCLGVBQzdDYSxFQUFXLElBQUlDLFNBQVNoQixFQUFLSSxJQUVqQyxJQUNFYSxNQUFNLENBQ0pDLE9BQVFULEVBQUlTLE9BQ1pDLElBQUtWLEVBQUlXLE9BQ1RDLFFBQVMsQ0FDUEMsZUFBZ0IsdUJBRWxCekIsS0FBTWtCLElBQ0xRLEtBQUssU0FBVUMsR0FFaEIsSUFBSUMsRUFBWUQsRUFBSTNCLEtBQ2hCRCxFQUFRNkIsRUFBVTdCLE1BQ2xCSixFQUFNaUMsRUFBVWpDLElBQ1RpQyxFQUFVM0IsS0FDckJWLEVBQWUsQ0FDYkUsR0FBSXdCLEVBQVksR0FDaEJsQixNQUFPQSxFQUNQSixJQUFLQSxFQUNMSyxLQUFNMkIsRUFBSTNCLFNBRVg2QixNQUFNLFNBQVVDLEdBRWpCdkMsRUFBZSxDQUNiRSxHQUFJd0IsRUFB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WUFBY3FFLEVBQVdyRSxnQkFDL0IsQ0FDTCxJQUFJdUUsRUFBYzdELFNBQVNzRCxjQUFjLGNBRXJDUSxFQUFnQjlELFNBQVNzRCxjQUFjLGlCQUUzQ08sRUFBWXJFLFVBQVVFLElBQUksVUFFMUJvRSxFQUFjdEUsVUFBVUUsSUFBSSxVQXVDOUIsSUFuQ0EsSUFBSXFFLEVBQVkvRCxTQUFTQyx1QkFBdUIsYUFFNUNDLEVBQVEsU0FBZUMsRUFBR0MsR0FFNUIyRCxFQUFVNUQsR0FBR0UsaUJBQWlCLFFBQVMsU0FBVTJELEdBQy9DLElBQUlDLEVBQVF0RCxLQUdSdUQsRUFBa0JILEVBQVU1RCxHQUFHZ0UsV0FBV2IsY0FBYyxxQkFFeERZLElBQ3dCbEUsU0FBU3NDLGVBQWU0QixFQUFnQnRELGFBQWEsWUFDM0RwQixVQUFVQyxPQUFPLFVBQ3JDeUUsRUFBZ0IxRSxVQUFVQyxPQUFPLFdBSW5DdUUsRUFBR0ksS0FBS0MsS0FBSyxTQUFVL0QsR0FDckIsR0FBSUEsRUFBRWQsVUFBVThFLFNBQVMsT0FBUSxDQUMvQixJQUFJQyxFQUFjakUsRUFBRWdELGNBQWMsZUFNbEMsT0FKSWlCLElBQ0ZBLEVBQVlqRixZQUFjMkUsRUFBTTNFLGNBRzNCLEtBSVhxQixLQUFLbkIsVUFBVUUsSUFBSSxVQUNuQjhELE9BQU9ULFNBQVNVLEtBQU8sS0FBTzlDLEtBQUtDLGFBQWEsV0FDaERaLFNBQVNzQyxlQUFlM0IsS0FBS0MsYUFBYSxZQUFZcEIsVUFBVUUsSUFBSSxhQUkvRFMsRUFBSSxFQUFHQyxFQUFJMkQsRUFBVW5DLE9BQVF4QixFQUFJRCxFQUFHQSxJQUMzQ0QsRUFBTUMsR0E3RFYiLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuKGZ1bmN0aW9uICgpIHtcbiAgdmFyIGZvcm1TdWJtaXNzaW9uID0gZnVuY3Rpb24gZm9ybVN1Ym1pc3Npb24ob2JqKSB7XG4gICAgLy8gYWxlcnRcbiAgICBvYmouZWwudGV4dENvbnRlbnQgPSBvYmoubXNnO1xuICAgIG9iai5lbC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICBvYmouZWwuY2xhc3NMaXN0LmFkZCgnYWxlcnQtJyArIG9iai5hbGVydCwgJ3Zpc2libGUnKTtcblxuICAgIGlmIChvYmouZGF0YS50eXBlICE9ICdkZWxldGUnKSB7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgb2JqLmVsLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBvYmouZWwuY2xhc3NMaXN0LnJlbW92ZSgnYWxlcnQtJyArIG9iai5hbGVydCwgJ3Zpc2libGUnKTtcbiAgICAgIH0sIDUwMDApO1xuICAgIH1cbiAgfTtcblxuICB2YXIgZm9ybSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2Zvcm0nKTtcblxuICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChpLCBsKSB7XG4gICAgZm9ybVtpXS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIGFwaSA9IEpTT04ucGFyc2UodGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtYXBpJykpO1xuICAgICAgdmFyIGZvcm1fX2FsZXJ0ID0gZm9ybVtpXS5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdmb3JtX19hbGVydCcpO1xuICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGZvcm1baV0pO1xuXG4gICAgICB0cnkge1xuICAgICAgICBheGlvcyh7XG4gICAgICAgICAgbWV0aG9kOiBhcGkubWV0aG9kLFxuICAgICAgICAgIHVybDogYXBpLmFjdGlvbixcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnXG4gICAgICAgICAgfSxcbiAgICAgICAgICBkYXRhOiBmb3JtRGF0YVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAvLyDQo9C00LDRh9C90LDRjyDQvtGC0L/RgNCw0LLQutCwIFxuICAgICAgICAgIHZhciBfcmVzJGRhdGEgPSByZXMuZGF0YSxcbiAgICAgICAgICAgICAgYWxlcnQgPSBfcmVzJGRhdGEuYWxlcnQsXG4gICAgICAgICAgICAgIG1zZyA9IF9yZXMkZGF0YS5tc2csXG4gICAgICAgICAgICAgIHR5cGUgPSBfcmVzJGRhdGEudHlwZTtcbiAgICAgICAgICBmb3JtU3VibWlzc2lvbih7XG4gICAgICAgICAgICBlbDogZm9ybV9fYWxlcnRbMF0sXG4gICAgICAgICAgICBhbGVydDogYWxlcnQsXG4gICAgICAgICAgICBtc2c6IG1zZyxcbiAgICAgICAgICAgIGRhdGE6IHJlcy5kYXRhXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAvLyDQodC10YDQstC10YAg0LLQtdGA0L3Rg9C7INC+0YjQuNCx0LrRg1xuICAgICAgICAgIGZvcm1TdWJtaXNzaW9uKHtcbiAgICAgICAgICAgIGVsOiBmb3JtX19hbGVydFswXSxcbiAgICAgICAgICAgIGFsZXJ0OiAnZGFuZ2VyJyxcbiAgICAgICAgICAgIG1zZzogJ9Ce0YjQuNCx0LrQsCDRgdC10YDQstC10YDQsCcsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIHR5cGU6IFwiZXJyXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChfdW51c2VkKSB7XG4gICAgICAgIC8vINCe0YjQuNCx0LrQsCDQvdCwINGB0YLQvtGA0L7QvdC1INC60LvQuNC10L3RgtCwXG4gICAgICAgIGZvcm1TdWJtaXNzaW9uKHtcbiAgICAgICAgICBlbDogZm9ybV9fYWxlcnRbMF0sXG4gICAgICAgICAgYWxlcnQ6ICdkYW5nZXInLFxuICAgICAgICAgIG1zZzogJ9Ce0YjQuNCx0LrQsCDQv9GA0Lgg0L7RgtC/0YDQsNCy0LrQtSDRhNC+0YDQvNGLJyxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICB0eXBlOiBcImVyclwiXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICBmb3IgKHZhciBpID0gMCwgbCA9IGZvcm0ubGVuZ3RoOyBsID4gaTsgaSsrKSB7XG4gICAgX2xvb3AoaSwgbCk7XG4gIH1cbn0pKCk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbihmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIGZvcm1TZWFyY2goZm9ybSwgZWwsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGNiID0gY2FsbGJhY2sgPyBjYWxsYmFjayA6IGZ1bmN0aW9uICgpIHt9O1xuICAgIGlmICghZm9ybSkgcmV0dXJuO1xuICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBmdW5jdGlvbiAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgdmFyIGFwaSA9IEpTT04ucGFyc2UodGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtYXBpJykpO1xuICAgICAgdmFyIGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKGZvcm0pO1xuICAgICAgdmFyIHVybCA9IGFwaS5hY3Rpb247XG4gICAgICBmb3JtRGF0YS5mb3JFYWNoKGZ1bmN0aW9uICh2YWwsIGtleSkge1xuICAgICAgICB1cmwgPSB1cmwucmVwbGFjZShcIlwiLmNvbmNhdChrZXksIFwiL0BkdW1teVwiKSwgXCJcIi5jb25jYXQoa2V5LCBcIi9cIikuY29uY2F0KHZhbCA/IHZhbCA6IG51bGwpKTtcbiAgICAgIH0pO1xuXG4gICAgICB0cnkge1xuICAgICAgICBheGlvcyh7XG4gICAgICAgICAgbWV0aG9kOiBhcGkubWV0aG9kLFxuICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YSdcbiAgICAgICAgICB9XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgIC8vINCj0LTQsNGH0L3QsNGPINC+0YLQv9GA0LDQstC60LAgXG4gICAgICAgICAgdmFyIF9yZXMkZGF0YSA9IHJlcy5kYXRhLFxuICAgICAgICAgICAgICBkYXRhID0gX3JlcyRkYXRhID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZXMkZGF0YTtcbiAgICAgICAgICBjYWxsYmFjayhlbCwgZGF0YSk7XG4gICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICBjb25zb2xlLmxvZygn0J7RiNC40LHQutCwINC90LAg0YHRgtC+0YDQvtC90LUg0YHQtdGA0LLQtdGA0LAnKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChfdW51c2VkKSB7XG4gICAgICAgIC8vINCe0YjQuNCx0LrQsCDQvdCwINGB0YLQvtGA0L7QvdC1INC60LvQuNC10L3RgtCwXG4gICAgICAgIGNvbnNvbGUubG9nKCfQntGI0LjQsdC60LAg0L3QsCDRgdGC0L7RgNC+0L3QtSDQutC70LjQtdC90YLQsCcpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgdmFyIGZvcm0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybV9zZWFyY2gtdGFibGUtYWRtaW4tbWF0ZXJpYWwnKTtcbiAgdmFyIGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RhYmxlX19ib2R5X2FkbWluLW1hdGVyaWFsJyk7XG5cbiAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gY2FsbGJhY2soZWwsIGRhdGEpIHtcbiAgICB2YXIgdGVwbGF0ZSA9IFtdO1xuXG4gICAgaWYgKGRhdGEpIHtcbiAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xuICAgICAgdGVwbGF0ZSA9IGRhdGEubWFwKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHJldHVybiBcIjx0ciBjbGFzcz1cXFwidGFibGVfX3JvdyBcIi5jb25jYXQoZS5zdGF0dXMgPyAnaGlnaGxpZ2h0LXdhcm5pbmcnIDogJycsIFwiXFxcIj5cXG5cXHRcXHRcXHRcXHRcXHQ8dGQgY2xhc3M9XFxcInRhYmxlX19jb2wgdGFibGVfX2NvbF9pbmZvXFxcIj4gXFxuXFx0XFx0XFx0XFx0XFx0XFx0PGkgY2xhc3M9XFxcImZhIGZhLWluZm8tY2lyY2xlXFxcIiBkYXRhLXRvb2x0aXA9XFxcIlwiKS5jb25jYXQoZS5yZW1hcmssIFwiXFxcIj48L2k+IFxcblxcdFxcdFxcdFxcdFxcdDwvdGQ+XFxuXFx0XFx0XFx0XFx0XFx0PHRkIGNsYXNzPVxcXCJ0YWJsZV9fY29sIHRhYmxlX19jb2xfbmFtZVxcXCI+XCIpLmNvbmNhdChlLm5hbWUsIFwiIFwiKS5jb25jYXQoZS5tYXJrLCBcIjwvdGQ+XFxuXFx0XFx0XFx0XFx0XFx0PHRkIGNsYXNzPVxcXCJ0YWJsZV9fY29sIHRhYmxlX19jb2xfbmFtZVxcXCI+XCIpLmNvbmNhdChlLnN0YW5kYXJ0LCBcIjwvdGQ+XFxuXFx0XFx0XFx0XFx0XFx0PHRkIGNsYXNzPVxcXCJ0YWJsZV9fY29sIHRhYmxlX19jb2xfZGF0ZS1jcmVhdGVcXFwiPlwiKS5jb25jYXQoZS5kYXRlX2NyZWF0ZSwgXCI8L3RkPlxcblxcdFxcdFxcdFxcdFxcdDx0ZCBjbGFzcz1cXFwidGFibGVfX2NvbCB0YWJsZV9fY29sX2J0blxcXCI+XFxuXFx0XFx0XFx0XFx0XFx0XFx0PGEgY2xhc3M9XFxcInRhYmxlX19idG4gYnRuIGJ0bi1zdWNjZXNzXFxcIiBocmVmPVxcXCJcIikuY29uY2F0KGxvY2F0aW9uLnBhdGhuYW1lLCBcIi9lZGl0L2lkL1wiKS5jb25jYXQoZS5pZCwgXCJcXFwiPlxcdTA0MjBcXHUwNDM1XFx1MDQzNFxcdTA0MzBcXHUwNDNBXFx1MDQ0MlxcdTA0MzhcXHUwNDQwXFx1MDQzRVxcdTA0MzJcXHUwNDMwXFx1MDQ0MlxcdTA0NEM8L2E+XFxuXFx0XFx0XFx0XFx0XFx0PC90ZD5cXG5cXHRcXHRcXHRcXHQ8L3RyPlwiKTtcbiAgICAgIH0pO1xuICAgICAgZWwuaW5uZXJIVE1MID0gdGVwbGF0ZS5qb2luKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsLmlubmVySFRNTCA9ICcnO1xuICAgIH1cbiAgfTtcblxuICBmb3JtU2VhcmNoKGZvcm0sIGVsLCBjYWxsYmFjayk7XG59KSgpOyIsIlwidXNlIHN0cmljdFwiOyIsIlwidXNlIHN0cmljdFwiO1xuXG4oZnVuY3Rpb24gKCkge1xuICAvKipcclxuICAgKiDQn9C+0LrQsNC30LDRgtGMINC80L7QtNCw0LvRjNC90L7QtSDQvtC60L3QvlxyXG4gIFx0INCt0LvQtdC80L3RgiDQutC+0YLQvtGA0YvQuSDQstGL0LfRi9Cy0LDQtdGCINC80L7QtNCw0LvRjNC90L7QtSDQvtC60L3QviDQtNC+0LvQttC10L0g0LjQvNC10YLRjCDQutC70LDRgdGBIFwic2hvdy1tb2RhbFwiINC4INCw0YLRgNC40LHRg9GCIFwiZGF0YS1pZC1tb2RhbFwiXHJcbiAgXHQg0LfQvdCw0YfQtdC90LjQtSDQsNGC0YDQuNCx0YPRgtCwINGN0YLQviBpZCDQvNC+0LTQsNC70YzQvdC+0LPQviDQvtC60L3QsFxyXG4gICAqL1xuICB2YXIgbW9kYWxTaG93ID0gZnVuY3Rpb24gbW9kYWxTaG93KCkge1xuICAgIHZhciBtb2RhbFNob3cgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzaG93LW1vZGFsJyk7XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbCA9IG1vZGFsU2hvdy5sZW5ndGg7IGwgPiBpOyBpKyspIHtcbiAgICAgIG1vZGFsU2hvd1tpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGlkTW9kYWwgPSB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1pZC1tb2RhbCcpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwjJyArIGlkTW9kYWwpLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIG1vZGFsU2hvdygpO1xuICAvKipcclxuICAgKiDQl9Cw0LrRgNGL0YLRjCDQvNC+0LTQsNC70YzQvdC+0LUg0L7QutC90L5cclxuICAgKi9cblxuICB2YXIgbW9kYWxDbG9zZSA9IGZ1bmN0aW9uIG1vZGFsQ2xvc2UoKSB7XG4gICAgdmFyIG1vZGFsQ2xvc2UgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdtb2RhbC1jbG9zZScpO1xuXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBtb2RhbENsb3NlLmxlbmd0aDsgbCA+IGk7IGkrKykge1xuICAgICAgbW9kYWxDbG9zZVtpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLmFjdGl2ZScpLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIG1vZGFsQ2xvc2UoKTtcbn0pKCk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbihmdW5jdGlvbiAoKSB7XG4gIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcudGFiJykpIHtcbiAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgLy8g0J/RgNC4INC/0LXRgNCy0L7QuSDQt9Cw0LPRgNGD0LfQutC1INGB0YLRgNCw0L3QuNGG0Ysg0LDQutGC0LjQstC40YDQvtCy0LDRgtGMINC90YPQttC90YvQuSBUYWJcbiAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uaGFzaCkge1xuICAgICAgICB2YXIgaGFzaCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnJlcGxhY2UoJyNpZCcsICcnKTtcbiAgICAgICAgdmFyIHRhYl9fdGl0bGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhYl9fdGl0bGVcIik7XG5cbiAgICAgICAgdmFyIF90YWJfX2l0ZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhYl9faXRlbVtkYXRhLWlkPVwiLmNvbmNhdChoYXNoLCBcIl1cIikpO1xuXG4gICAgICAgIHZhciB0YWJfX2NvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChoYXNoKTtcblxuICAgICAgICBfdGFiX19pdGVtLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuXG4gICAgICAgIHRhYl9fY29udGVudC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgdGFiX190aXRsZS50ZXh0Q29udGVudCA9IF90YWJfX2l0ZW0udGV4dENvbnRlbnQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgX3RhYl9faXRlbTIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnRhYl9faXRlbVwiKTtcblxuICAgICAgICB2YXIgX3RhYl9fY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGFiX19jb250ZW50XCIpO1xuXG4gICAgICAgIF90YWJfX2l0ZW0yLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuXG4gICAgICAgIF90YWJfX2NvbnRlbnQuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICB9IC8vINCQ0LrRgtC40LLQvdGL0LkgVEFCXG5cblxuICAgICAgdmFyIHRhYl9faXRlbSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3RhYl9faXRlbScpO1xuXG4gICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChpLCBsKSB7XG4gICAgICAgIC8vIGNsaWNrXG4gICAgICAgIHRhYl9faXRlbVtpXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldikge1xuICAgICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICAgICAgICAvLyDRg9C00LDQu9C40YLRjCAuYWN0aXZlINGDIC50YWJfX2l0ZW0g0LggLnRhYl9fY29udGVudCDQutC+0YLQvtGA0YvQuSDRgdC10LnRh9Cw0YEg0LDQutGC0LjQstC10L1cbiAgICAgICAgICB2YXIgY3VyZW50VGFiQWN0aXZlID0gdGFiX19pdGVtW2ldLnBhcmVudE5vZGUucXVlcnlTZWxlY3RvcignLnRhYl9faXRlbS5hY3RpdmUnKTtcblxuICAgICAgICAgIGlmIChjdXJlbnRUYWJBY3RpdmUpIHtcbiAgICAgICAgICAgIHZhciBjdXJlbnRDb250ZW50QWN0aXZlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY3VyZW50VGFiQWN0aXZlLmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpKTtcbiAgICAgICAgICAgIGN1cmVudENvbnRlbnRBY3RpdmUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgICAgICBjdXJlbnRUYWJBY3RpdmUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICAgICAgfSAvLyDQlNC+0LHQsNCy0YLRjCDQt9Cw0LPQvtC70L7QstC+0LogXG5cblxuICAgICAgICAgIGV2LnBhdGguc29tZShmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKGUuY2xhc3NMaXN0LmNvbnRhaW5zKCd0YWInKSkge1xuICAgICAgICAgICAgICB2YXIgX3RhYl9fdGl0bGUgPSBlLnF1ZXJ5U2VsZWN0b3IoJy50YWJfX3RpdGxlJyk7XG5cbiAgICAgICAgICAgICAgaWYgKF90YWJfX3RpdGxlKSB7XG4gICAgICAgICAgICAgICAgX3RhYl9fdGl0bGUudGV4dENvbnRlbnQgPSBfdGhpcy50ZXh0Q29udGVudDtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pOyAvLyDQlNC+0LHQsNCy0LjRgtGMINGC0LXQutGD0YnQuNC8IC50YWJfX2l0ZW0g0LggLnRhYl9fY29udGVudCDQutC70LDRgdGBIC5hY3RpdmVcblxuICAgICAgICAgIHRoaXMuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSAnaWQnICsgdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtaWQnKTtcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1pZCcpKS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHRhYl9faXRlbS5sZW5ndGg7IGwgPiBpOyBpKyspIHtcbiAgICAgICAgX2xvb3AoaSwgbCk7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgfVxufSkoKTsiLCIvLyAoZnVuY3Rpb24oKXtcbi8vIFx0Y29uc3QgYnRuX3Nob3dNb2RhbD0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnRhYmxlX2l0ZW1zLXRvLWVkaXQgLnRhYmxlX19idG5fc2hvdy1tb2RhbCcpO1xuLy8gXHRmb3IobGV0IGk9IDAsIGw9IGJ0bl9zaG93TW9kYWwubGVuZ3RoOyBsID4gaTsgaSsrKXtcbi8vIFx0XHRidG5fc2hvd01vZGFsW2ldLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZfYnRuU2hvd01vZGFsKXtcbi8vIFx0XHRcdC8qKlxuLy8gXHRcdFx0ICog0JTQvtCx0LDQstC70LXQvdC40LUg0LTQsNC90L3Ri9GFINCyINGE0L7RgNC80YMg0YDQtdC00LDQutGC0LjRgNC+0LLQsNC90LjRjyBcIm1vZGFsX2Zvcm0tZWRpdC1uYW1lXCJcbi8vIFx0XHRcdCAqL1xuLy8gXHRcdFx0Y29uc3QgY29udGVudD0gSlNPTi5wYXJzZShidG5fc2hvd01vZGFsW2ldLmdldEF0dHJpYnV0ZSgnZGF0YS1jb250ZW50JykpO1xuLy8gXHRcdFx0Y29uc3QgYXBpPSBidG5fc2hvd01vZGFsW2ldLmdldEF0dHJpYnV0ZSgnZGF0YS1hcGknKTtcbi8vIFx0XHRcdGNvbnN0IGlkTW9kYWw9IGJ0bl9zaG93TW9kYWxbaV0uZ2V0QXR0cmlidXRlKCdkYXRhLWlkLW1vZGFsJyk7XG4vLyBcdFx0XHRsZXQgZm9ybT0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWRNb2RhbCkucXVlcnlTZWxlY3RvcignLmZvcm0nKTtcbi8vIFx0XHRcdGZvcm0uc2V0QXR0cmlidXRlKCdkYXRhLWFwaScsIGFwaSk7XG4vLyBcdFx0XHRmb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwibmFtZVwiXScpLnZhbHVlPSBjb250ZW50Lm5hbWU7XG4vLyBcdFx0XHRmb3JtLnF1ZXJ5U2VsZWN0b3IoJ1tuYW1lPVwicmVtYXJrXCJdJykudmFsdWU9IGNvbnRlbnQucmVtYXJrO1xuLy8gXHRcdFx0LyoqXG4vLyBcdFx0XHQgKiDQn9C+0YHQu9C1INC+0YLQv9GA0LDQstC60Lgg0LTQsNC90L3Ri9GFINC90LAg0YHQtdGA0LLQtdGALCDQstC90LXRgdGC0Lgg0LjQt9C80LXQvdC10L3QuNGPINCyINGC0LDQsdC70LjRhtGDXG4vLyBcdFx0XHQgKi9cbi8vIFx0XHRcdGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0ZPUk1fU1VCTUlTU0lPTicsIGZ1bmN0aW9uKGV2KXtcbi8vIFx0XHRcdFx0ZXZfYnRuU2hvd01vZGFsLnBhdGguc29tZSgoZWwpPT57XG4vLyBcdFx0XHRcdFx0aWYoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCd0YWJsZV9fcm93Jykpe1xuLy8gXHRcdFx0XHRcdFx0aWYoZXYuZGV0YWlsLnR5cGUgPT0gJ2RlbGV0ZScpe1xuLy8gXHRcdFx0XHRcdFx0XHRlbC5yZW1vdmUoKTtcbi8vIFx0XHRcdFx0XHRcdFx0cmV0dXJuIHRydWU7XG4vLyBcdFx0XHRcdFx0XHR9XHRcbi8vIFx0XHRcdFx0XHR9XG4vLyBcdFx0XHRcdH0pXG4vLyBcdFx0XHR9KVxuLy8gXHRcdH0pO1xuLy8gXHR9XG4vLyB9KSgpO1xuXCJ1c2Ugc3RyaWN0XCI7Il0sImZpbGUiOiJhcHAuanMifQ==
