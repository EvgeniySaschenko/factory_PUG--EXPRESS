extends ../_layout/main

block content
	+b.page_admin-equipment
		+e.H1.title= title

		+b.tab_tech-process
			+e.list
				+e.item(data-id="tab_equipment-1")
					+e.I.item-icon.fa.fa-plus
					+e.SPAN.item-name Добавить оборудование
				+e.item(data-id="tab_equipment-2") 
					+e.I.item-icon.fa.fa-list-alt
					+e.SPAN.item-name Список оборудования

			+e.H2.title Добавить оборудование

			+e.box-content
				+e.content(id="tab_equipment-1")
					// Добавить оборудование
					- var api= api_addEquipment

					+b.FORM.form_admin(class='_equipment' data-api=api)
						+e.group(class="form-group")
							+e.LABEL.label Название
							+e.INPUT.field(class="form-control" type="text" name="name" placeholder="Название" required)

						+e.group(class="form-group")
							+e.LABEL.label Модель
							+e.INPUT.field(class="form-control" type="text" name="model" placeholder="Модель" required)

						+e.group(class="form-group")
							+e.LABEL.label Номер
							+e.INPUT.field(class="form-control" type="number" name="num" placeholder="Номер" required)

						+e.alert(class="alert hidden")
						+e.box-btn
							+e.BUTTON.btn(class="btn btn-primary" type="submit") Отправить


				+e.content(id="tab_equipment-2")
					// Список оборудования
					- var data= equipment_list

					if data
						+b.table_admin(class="_Equipment table-responsive")
							+e.TABLE.table(class="table table-hover")
								thead
									tr
										th Название
										th Модель
										th Номер
										th Дата создания
										th Редактировать
								tbody
									each e in data
										+e.TR.row(class= e.status ? 'highlight-warning' : '')
											+e.TD.col_name= e.name
											+e.TD.col_model= e.model
											+e.TD.col_num= e.num
											+e.TD.col_date-create= e.date_create
											+e.TD.col_btn
												+e.A.btn(class="btn btn-success" href= curUrl + '/edit/id/' + e.id) Редактировать